<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



<title>
  
    Flink系统配置参数一览
  
</title>

<meta name="description" content="慢慢肝,整理下Flink的系统配置信息,不同于环境配置Flink代码编写中的环境配置">
<meta property="og:type" content="article">
<meta property="og:title" content="Flink系统配置参数一览">
<meta property="og:url" content="http://yoursite.com/2020/12/14/Flink%E7%B3%BB%E7%BB%9F%E9%85%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E4%B8%80%E8%A7%88/index.html">
<meta property="og:site_name" content="BlackC">
<meta property="og:description" content="慢慢肝,整理下Flink的系统配置信息,不同于环境配置Flink代码编写中的环境配置">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-12-14T09:48:10.000Z">
<meta property="article:modified_time" content="2021-01-19T13:01:05.996Z">
<meta property="article:author" content="X&amp;Z">
<meta property="article:tag" content="flink">
<meta name="twitter:card" content="summary">


  <link rel="alternative" href="/atom.xml" title="BlackC" type="application/atom+xml">



  <link rel="icon" href="/images/favicon.ico">



<link rel="stylesheet" href="/perfect-scrollbar/css/perfect-scrollbar.min.css">


<link rel="stylesheet" href="/styles/main.css">







<meta name="generator" content="Hexo 5.2.0"></head>
<body
  
    class="monochrome"
  
  >
  <div class="mobile-header">
  <button class="sidebar-toggle" type="button">
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
    <span class="icon-bar"></span>
  </button>
  <a class="title" href="/">BlackC</a>
</div>

  <div class="main-container">
    <div class="sidebar">
  <div class="header">
    <h1 class="title"><a href="/">BlackC</a></h1>
    
    <div class="info">
      <div class="content">
        
        
          <div class="author">X&amp;Z</div>
        
      </div>
      
        <div class="avatar">
          
            <a href="/about"><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1591944977169&amp;di=4920f7c74026501de2663d9c3d5a5f28&amp;imgtype=0&amp;src=http%3A%2F%2Fb-ssl.duitang.com%2Fuploads%2Fitem%2F201902%2F22%2F20190222143514_ujtyi.jpg"></a>
          
        </div>
      
    </div>
  </div>
  <div class="body">
    
      
        <ul class="nav">
          
            
              <li class="category-list-container">
                <a href="javascript:;">分类</a>
                <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><span class="category-list-count">163</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%90%AD%E5%BB%BA/">搭建</a><span class="category-list-count">17</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%99%E7%A8%8B/">教程</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%B3%BB%E7%BB%9F/">系统</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E8%AF%91/">编译</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BC%96%E8%BE%91%E5%99%A8/">编辑器</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a><span class="category-list-count">10</span></li></ul>
              </li>
            
          
            
              <li class="tag-list-container">
                <a href="javascript:;">标签</a>
                <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/alibaba/" rel="tag">alibaba</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cas/" rel="tag">cas</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cdh/" rel="tag">cdh</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/doris/" rel="tag">doris</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/edit/" rel="tag">edit</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elk/" rel="tag">elk</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flink/" rel="tag">flink</a><span class="tag-list-count">93</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grafana/" rel="tag">grafana</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/" rel="tag">hbase</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hive/" rel="tag">hive</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/interview/" rel="tag">interview</a><span class="tag-list-count">13</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/" rel="tag">kafka</a><span class="tag-list-count">27</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kylin/" rel="tag">kylin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/learn/" rel="tag">learn</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/miscellany/" rel="tag">miscellany</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mr/" rel="tag">mr</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/neo4j/" rel="tag">neo4j</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/os/" rel="tag">os</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oss/" rel="tag">oss</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/profile/" rel="tag">profile</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prometheus/" rel="tag">prometheus</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sbt/" rel="tag">sbt</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/" rel="tag">spark</a><span class="tag-list-count">18</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/" rel="tag">tomcat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tools/" rel="tag">tools</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xwiki/" rel="tag">xwiki</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zk/" rel="tag">zk</a><span class="tag-list-count">1</span></li></ul>
              </li>
            
          
            
              <li class="archive-list-container">
                <a href="javascript:;">归档</a>
                <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020</a><span class="archive-list-count">90</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019</a><span class="archive-list-count">80</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018</a><span class="archive-list-count">17</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/">2016</a><span class="archive-list-count">10</span></li></ul>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="/" title="主页" external="false">主页</a>
              </li>
            
          
            
              <li>
                <a href="/archives" title="文章" external="false">文章</a>
              </li>
            
          
            
              <li>
                <a href="/about" title="关于" external="false">关于</a>
              </li>
            
          
        </ul>
      
        <ul class="nav">
          
            
              <li>
                <a href="https://github.com/denjones/hexo-theme-chan" title="样式" target="_blank" rel="noopener">样式</a>
              </li>
            
          
            
              <li>
                <a href="https://github.com/jxeditor" title="Github" target="_blank" rel="noopener">Github</a>
              </li>
            
          
            
              <li>
                <a href="/atom.xml" title="RSS" external="false">RSS</a>
              </li>
            
          
        </ul>
      
    
  </div>
</div>

    <div class="main-content">
      
        <div style="max-width: 1000px">
      
          <article id="post-Flink系统配置参数一览" class="article article-type-post">
  
    <h1 class="article-header">
      Flink系统配置参数一览
    </h1>
  
  

  <div class="article-info">
    <span class="article-date">
  2020-12-14
</span>

    
	<span class="article-category tagcloud">
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a></li></ul>
	</span>


    
	<span class="article-tag tagcloud">
		<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/flink/" rel="tag">flink</a></li></ul>
	</span>


  </div>
  <div class="article-entry">
    <blockquote>
<p>慢慢肝,整理下Flink的系统配置信息,不同于环境配置<a target="_blank" rel="noopener" href="https://jxeditor.github.io/2020/04/21/Flink%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E4%B8%AD%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">Flink代码编写中的环境配置</a></p>
</blockquote>
<a id="more"></a>

<h2 id="AkkaOptions-Akka配置参数"><a href="#AkkaOptions-Akka配置参数" class="headerlink" title="AkkaOptions(Akka配置参数)"></a>AkkaOptions(Akka配置参数)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">akka.ask.callstack</span><br><span class="line">默认值:true</span><br><span class="line">捕获异步请求的调用堆栈,当ASK失败时,得到一个适当的异常,描述原始方法调度.</span><br><span class="line"></span><br><span class="line">akka.ask.timeout</span><br><span class="line">默认值:10 s</span><br><span class="line">Akka超时时间,Flink出现超时失败,可以增加该值.</span><br><span class="line"></span><br><span class="line">akka.tcp.timeout</span><br><span class="line">默认值:20 s</span><br><span class="line">TCP超时时间,由于网络问题导致Flink失败,可以增加该值.</span><br><span class="line"></span><br><span class="line">akka.startup-timeout</span><br><span class="line">默认值:无</span><br><span class="line">Akka启动超时时间.</span><br><span class="line"></span><br><span class="line">akka.transport.heartbeat.interval</span><br><span class="line">默认值:1000 s</span><br><span class="line">Akka传输故障探测器的心跳间隔.Flink使用TCP,所以不需要检测器,可以设置一个极大值来禁用检测器.</span><br><span class="line"></span><br><span class="line">akka.transport.heartbeat.pause</span><br><span class="line">默认值:6000 s</span><br><span class="line">Akka传输故障探测器可接受的心跳暂停时间间隔,同上.</span><br><span class="line"></span><br><span class="line">akka.transport.threshold</span><br><span class="line">默认值:300.0</span><br><span class="line">Akka传输故障探测器的阈值,同上.</span><br><span class="line"></span><br><span class="line">akka.ssl.enabled</span><br><span class="line">默认值:true</span><br><span class="line">Akka远程通信是否打开SSL.仅适用于全局SSL标志security.ssl设置为true.</span><br><span class="line"></span><br><span class="line">akka.framesize</span><br><span class="line">默认值:10485760b</span><br><span class="line">在JM和TM之间发送的消息最大大小.如果Flink失败是因为消息超过了这个限制,则加大它.</span><br><span class="line"></span><br><span class="line">akka.throughput</span><br><span class="line">默认值:15</span><br><span class="line">将线程返回池之前批处理的消息数.低值表示公平调度,高值可以以不公平为代价提高性能.</span><br><span class="line"></span><br><span class="line">akka.log.lifecycle.events</span><br><span class="line">默认值:false</span><br><span class="line">打开Akka的远程事件日志记录.调试的时候此值设为true.</span><br><span class="line"></span><br><span class="line">akka.lookup.timeout</span><br><span class="line">默认值:10 s</span><br><span class="line">用于查找TM的超时时间.</span><br><span class="line"></span><br><span class="line">akka.client.timeout</span><br><span class="line">默认值:60 s</span><br><span class="line">不推荐使用.使用client.timeout替代.</span><br><span class="line"></span><br><span class="line">akka.jvm-exit-on-fatal-error</span><br><span class="line">默认值:true</span><br><span class="line">出现致命的Akka错误时退出JVM.</span><br><span class="line"></span><br><span class="line">akka.retry-gate-closed-for</span><br><span class="line">默认值:50L</span><br><span class="line">断开远程连接后,Gate应该在时间范围关闭(毫秒).</span><br><span class="line"></span><br><span class="line">akka.fork-join-executor.parallelism-factor</span><br><span class="line">默认值:2.0</span><br><span class="line">并行系数用于使用以下公式确定线程池大小(ceil(可用处理器*并行系数)),结果大小由akka.fork-join-executor.parallelism-min和akka.fork-join-executor.parallelism-max控制.</span><br><span class="line"></span><br><span class="line">akka.fork-join-executor.parallelism-min</span><br><span class="line">默认值:8</span><br><span class="line">基于并行数的上限因子的最小线程数.</span><br><span class="line"></span><br><span class="line">akka.fork-join-executor.parallelism-max</span><br><span class="line">默认值:64</span><br><span class="line">基于并行数的上限因子的最大线程数.</span><br><span class="line"></span><br><span class="line">akka.client-socket-worker-pool.pool-size-min</span><br><span class="line">默认值:1</span><br><span class="line">基于数量因子的最小线程数.</span><br><span class="line"></span><br><span class="line">akka.client-socket-worker-pool.pool-size-max</span><br><span class="line">默认值:2</span><br><span class="line">基于数量因子的最大线程数.</span><br><span class="line"></span><br><span class="line">akka.client-socket-worker-pool.pool-size-factor</span><br><span class="line">默认值:1.0</span><br><span class="line">线程池大小用于使用以下公式确定线程池大小(ceil(可用处理器*因子)),结果大小由akka.client-socket-worker-pool.pool-size-min和akka.client-socket-worker-pool.pool-size-max控制.</span><br><span class="line"></span><br><span class="line">akka.server-socket-worker-pool.pool-size-min</span><br><span class="line">默认值:1</span><br><span class="line">基于数量因子的最小线程数.</span><br><span class="line"></span><br><span class="line">akka.server-socket-worker-pool.pool-size-max</span><br><span class="line">默认值:2</span><br><span class="line">基于数量因子的最大线程数.</span><br><span class="line"></span><br><span class="line">akka.server-socket-worker-pool.pool-size-factor</span><br><span class="line">默认值:1.0</span><br><span class="line">线程池大小用于使用以下公式确定线程池大小(ceil(可用处理器*因子)),结果大小由akka.server-socket-worker-pool.pool-size-min和akka.server-socket-worker-pool.pool-size-max控制.</span><br><span class="line"></span><br><span class="line">--- 过时的配置,对Flink没有影响</span><br><span class="line">akka.watch.heartbeat.interval</span><br><span class="line">akka.watch.heartbeat.pause</span><br><span class="line">akka.watch.threshold</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="AlgorithmOptions-Join-Sort算法的配置参数"><a href="#AlgorithmOptions-Join-Sort算法的配置参数" class="headerlink" title="AlgorithmOptions(Join/Sort算法的配置参数)"></a>AlgorithmOptions(Join/Sort算法的配置参数)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">taskmanager.runtime.hashjoin-bloom-filters</span><br><span class="line">默认值:false</span><br><span class="line">在HybridHashJoin实现中激活&#x2F;停用bloom过滤器的标志.在HashJoin需要溢写到磁盘时,这些bloom过滤器可以极大的减少溢写记录的数量,牺牲CPU性能.</span><br><span class="line"></span><br><span class="line">taskmanager.runtime.max-fan</span><br><span class="line">默认值:128</span><br><span class="line">外部合并Join的最大扇入和溢写Hash Table的扇出.限制每个运算符的文件句柄数,设置过小会导致中间合并或分区.</span><br><span class="line"></span><br><span class="line">taskmanager.runtime.sort-spilling-threshold</span><br><span class="line">默认值:0.8f</span><br><span class="line">当内存预算的这一部分已满时,排序操作开始溢写.</span><br><span class="line"></span><br><span class="line">taskmanager.runtime.large-record-handler</span><br><span class="line">默认值:false</span><br><span class="line">溢写时是否使用LargeRecordHandler.如果一个记录不能放入排序缓冲区.记录将溢写到磁盘上,并且只使用key继续排序.合并后读取记录本身.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="BlobServerOptions-BlobServer和BlobCache参数配置"><a href="#BlobServerOptions-BlobServer和BlobCache参数配置" class="headerlink" title="BlobServerOptions(BlobServer和BlobCache参数配置)"></a>BlobServerOptions(BlobServer和BlobCache参数配置)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">blob.storage.directory</span><br><span class="line">默认值:无</span><br><span class="line">定义BlobServer要是用的存储目录.</span><br><span class="line"></span><br><span class="line">blob.fetch.retries</span><br><span class="line">默认值:5</span><br><span class="line">定义失败Blob获取的失效次数.</span><br><span class="line"></span><br><span class="line">blob.fetch.num-concurrent</span><br><span class="line">默认值:50</span><br><span class="line">定义JM的最大并发Blob获取数.</span><br><span class="line"></span><br><span class="line">blob.fetch.backlog</span><br><span class="line">默认值:1000</span><br><span class="line">在JM上定义所需的Blob获取backlog的参数.操作系统通常会根据SOMAXCONN设置对backlog大小实施一个上限.</span><br><span class="line"></span><br><span class="line">blob.server.port</span><br><span class="line">默认值:0</span><br><span class="line">BlobServer的服务器端口.</span><br><span class="line"></span><br><span class="line">blob.service.ssl.enabled</span><br><span class="line">默认值:true</span><br><span class="line">覆盖BlobServer传输的SSL支持标志.</span><br><span class="line"></span><br><span class="line">blob.service.cleanup.interval</span><br><span class="line">默认值:3_600L</span><br><span class="line">TM中BlobCache清理时间间隔(秒).</span><br><span class="line"></span><br><span class="line">blob.offload.minsize</span><br><span class="line">默认值:1_024 * 1_024</span><br><span class="line">Offload到BlobServer的消息最小大小.</span><br><span class="line"></span><br><span class="line">blob.client.socket.timeout</span><br><span class="line">默认值:300_000</span><br><span class="line">Blob客户端Socket超时时间间隔(毫秒).</span><br><span class="line"></span><br><span class="line">blob.client.connect.timeout</span><br><span class="line">默认值:0</span><br><span class="line">Blob客户端连接超时时间间隔(毫秒).</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="CheckpointingOptions-CK和SP的配置参数"><a href="#CheckpointingOptions-CK和SP的配置参数" class="headerlink" title="CheckpointingOptions(CK和SP的配置参数)"></a>CheckpointingOptions(CK和SP的配置参数)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">state.backend</span><br><span class="line">默认值:无</span><br><span class="line">用于存储CK状态的状态后端.</span><br><span class="line"></span><br><span class="line">state.checkpoints.num-retained</span><br><span class="line">默认值:1</span><br><span class="line">要保留的已完成CK的最大数目.</span><br><span class="line"></span><br><span class="line">state.backend.async</span><br><span class="line">默认值:true</span><br><span class="line">状态后端是否使用异步快照,某些状态后端不支持异步快照或只支持异步快照.</span><br><span class="line"></span><br><span class="line">state.backend.incremental</span><br><span class="line">默认值:false</span><br><span class="line">状态后端是否创建增量CK.对于增量CK,只存储上一个CK的差异,并不是完整的CK状态.</span><br><span class="line">启用后,WebUI显示或从RestAPI获取的状态大小仅表示增量CK的大小,不是完整的CK大小.</span><br><span class="line"></span><br><span class="line">state.backend.local-recovery</span><br><span class="line">默认值:false</span><br><span class="line">是否启动状态后端的本地恢复.本地恢复目前只支持KeyedStateBackend,MemoryStateBackend不支持本地恢复.</span><br><span class="line"></span><br><span class="line">taskmanager.state.local.root-dirs</span><br><span class="line">默认值:无</span><br><span class="line">用于存储本地恢复状态的目录.</span><br><span class="line"></span><br><span class="line">state.savepoints.dir</span><br><span class="line">默认值:无</span><br><span class="line">SP的默认目录.用于将SP写入文件系统的状态后端(MemoryStateBackend,FsStateBackend,RocksDBStateBackend).</span><br><span class="line"></span><br><span class="line">state.checkpoints.dir</span><br><span class="line">默认值:无</span><br><span class="line">Flink支持的文件系统中存储CK的数据文件和元数据目录.路径必须可让所有参与者(TM&#x2F;JM)访问.</span><br><span class="line"></span><br><span class="line">state.backend.fs.memory-threshold</span><br><span class="line">默认值:20kb</span><br><span class="line">状态数据文件的最小大小.所有小于该值的状态块都以内联方式存储在根检查点元数据文件中,此配置的最大内存阈值为1MB。</span><br><span class="line"></span><br><span class="line">state.backend.fs.write-buffer-size</span><br><span class="line">默认值:4 * 1024</span><br><span class="line">写入文件系统的检查点流的默认写入缓冲区大小.实际写入缓冲区大小被确定为此选项和选项state.backend.fs.memory-threshold的最大值。</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ClusterOptions-控制集群行为的配置"><a href="#ClusterOptions-控制集群行为的配置" class="headerlink" title="ClusterOptions(控制集群行为的配置)"></a>ClusterOptions(控制集群行为的配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">cluster.registration.initial-timeout</span><br><span class="line">默认值:100L</span><br><span class="line">群集组件之间的初始注册超时(毫秒).</span><br><span class="line"></span><br><span class="line">cluster.registration.max-timeout</span><br><span class="line">默认值:30000L</span><br><span class="line">群集组件之间的最大注册超时(毫秒).</span><br><span class="line"></span><br><span class="line">cluster.registration.error-delay</span><br><span class="line">默认值:10000L</span><br><span class="line">注册尝试后进行的暂停导致了毫秒内的异常(超时除外).</span><br><span class="line"></span><br><span class="line">cluster.registration.refused-registration-delay</span><br><span class="line">默认值:30000L</span><br><span class="line">注册尝试被拒绝后暂停时间间隔(毫秒).</span><br><span class="line"></span><br><span class="line">cluster.services.shutdown-timeout</span><br><span class="line">默认值:30000L</span><br><span class="line">Executors等待群集服务的关闭超时(毫秒).</span><br><span class="line"></span><br><span class="line">cluster.io-pool.size</span><br><span class="line">默认值:无</span><br><span class="line">集群用于执行阻塞IO操作(主进程和TaskManager进程)的IO执行器池的大小.</span><br><span class="line">默认情况下,它将使用4*集群进程可以访问的CPU cores数量.增加池大小允许同时运行更多IO操作.</span><br><span class="line"></span><br><span class="line">cluster.evenly-spread-out-slots</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">启用slot展开分配策略.此策略尝试在所有可用的TaskExecutors上均匀分布slot。</span><br><span class="line"></span><br><span class="line">cluster.processes.halt-on-fatal-error</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">进程是否应在出现致命错误时停止,而不是执行正常关闭.在某些环境中(例如带有G1垃圾收集器的java8),正常的关闭可能会导致JVM死锁.</span><br><span class="line"></span><br><span class="line">cluster.declarative-resource-management.enabled</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">定义群集是否使用声明性资源管理.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="CoreOptions-核心配置"><a href="#CoreOptions-核心配置" class="headerlink" title="CoreOptions(核心配置)"></a>CoreOptions(核心配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">classloader.resolve-order</span><br><span class="line">默认值:child-first</span><br><span class="line">定义从用户代码加载类时的类解析策略.</span><br><span class="line">child-first:检查用户代码jar.</span><br><span class="line">parent_first:应用程序路径.</span><br><span class="line"></span><br><span class="line">classloader.parent-first-patterns.default</span><br><span class="line">默认值:java.;scala.;org.apache.flink.;com.esotericsoftware.kryo;org.apache.hadoop.;javax.annotation.;org.slf4j;org.apache.log4j;org.apache.logging;org.apache.commons.logging;ch.qos.logback;org.xml;javax.xml;org.apache.xerces;org.w3c</span><br><span class="line">一个分号分割的正则列表,指定哪些类总是首先通过父类加载器解析.不建议修改,要添加另一个模式,建议使用classloader.parent-first-patterns.additional替代.</span><br><span class="line"></span><br><span class="line">classloader.parent-first-patterns.additional</span><br><span class="line">默认值:空字符串</span><br><span class="line">一个分号分割的正则列表,指定哪些类总是首先通过父类加载器解析.</span><br><span class="line"></span><br><span class="line">classloader.fail-on-metaspace-oom-error</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">如果在尝试加载用户代码类时抛出<span class="string">&quot;OutOfMemoryError:Metaspace&quot;</span>,则Flink JVM进程失败.</span><br><span class="line"></span><br><span class="line">classloader.check-leaked-classloader</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">如果作业的用户类加载器在作业终止后使用,则尝试加载类失败.</span><br><span class="line">这通常是由于延迟线程或行为不当的库泄漏了类加载器,这也可能导致类加载器被其他作业使用.只有当这种泄漏阻止进一步的作业运行时,才应禁用此检查.</span><br><span class="line"></span><br><span class="line">plugin.classloader.parent-first-patterns.default</span><br><span class="line">默认值:java.;scala.;org.apache.flink.;javax.annotation.;org.slf4j;org.apache.log4j;org.apache.logging;org.apache.commons.logging;ch.qos.logback</span><br><span class="line">插件父类加载器</span><br><span class="line"></span><br><span class="line">plugin.classloader.parent-first-patterns.additional</span><br><span class="line">默认值:空字符串</span><br><span class="line">插件父类加载器</span><br><span class="line"></span><br><span class="line">env.java.opts</span><br><span class="line">默认值:空字符串</span><br><span class="line">Java选项启动所有Flink进程的JVM.</span><br><span class="line"></span><br><span class="line">env.java.opts.jobmanager</span><br><span class="line">默认值:空字符串</span><br><span class="line">用于启动JobManager的JVM的Java选项.</span><br><span class="line"></span><br><span class="line">env.java.opts.taskmanager</span><br><span class="line">默认值:空字符串</span><br><span class="line">用于启动TaskManager的JVM的Java选项.</span><br><span class="line"></span><br><span class="line">env.java.opts.historyserver</span><br><span class="line">默认值:空字符串</span><br><span class="line">用于启动HistoryServer的JVM的Java选项.</span><br><span class="line"></span><br><span class="line">env.java.opts.client</span><br><span class="line">默认值:空字符串</span><br><span class="line">启动Flink Client的JVM的Java选项.</span><br><span class="line"></span><br><span class="line">env.log.dir</span><br><span class="line">默认值:无</span><br><span class="line">定义保存Flink日志的目录.它必须是一条绝对路径.(默认为Flink根目录下的<span class="built_in">log</span>目录)</span><br><span class="line"></span><br><span class="line">env.pid.dir</span><br><span class="line">默认值:/tmp</span><br><span class="line">定义保存flink-&lt;host&gt;-&lt;process&gt;.pid文件的目录.</span><br><span class="line"></span><br><span class="line">env.log.max</span><br><span class="line">默认值:5</span><br><span class="line">要保留的最大旧日志文件数.</span><br><span class="line"></span><br><span class="line">env.ssh.opts</span><br><span class="line">默认值:无</span><br><span class="line">启动或停止JobManager,TaskManager和Zookeeper服务时传递给SSH客户端的其他命令行选项(start-cluster.sh,stop-cluster.sh,start-zookeeper-quorum.sh,stop-zookeeper-quorum.sh).</span><br><span class="line"></span><br><span class="line">env.hadoop.conf.dir</span><br><span class="line">默认值:无</span><br><span class="line">Hadoop配置目录的路径.需要读取HDFS和Yarn配置.也可以通过环境变量进行设置.</span><br><span class="line"></span><br><span class="line">env.yarn.conf.dir</span><br><span class="line">默认值:无</span><br><span class="line">Yarn配置目录的路径.Flink on Yarn时是必要的.也可以通过环境变量进行设置.</span><br><span class="line"></span><br><span class="line">env.hbase.conf.dir</span><br><span class="line">默认值:无</span><br><span class="line">HBase配置目录的路径.需要读取HBase配置.也可以通过环境变量进行设置.</span><br><span class="line"></span><br><span class="line">io.tmp.dirs</span><br><span class="line">默认值:System.getProperty(<span class="string">&quot;java.io.tmpdir&quot;</span>)</span><br><span class="line">临时文件目录.</span><br><span class="line"></span><br><span class="line">parallelism.default</span><br><span class="line">默认值:1</span><br><span class="line">任务默认并行度.</span><br><span class="line"></span><br><span class="line">fs.default-scheme</span><br><span class="line">默认值:无</span><br><span class="line">默认文件系统Schema.</span><br><span class="line"></span><br><span class="line">fs.allowed-fallback-filesystems</span><br><span class="line">默认值:空字符串</span><br><span class="line">文件允许的Schema列表,可以使用Hadoop代替合适的Flink插件(S3,Wasb).</span><br><span class="line"></span><br><span class="line">fs.overwrite-files</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">指定默认情况下文件输出写入程序是否应覆盖现有文件.</span><br><span class="line"></span><br><span class="line">fs.output.always-create-directory</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">以大于1的并行度运行的文件编写器为输出文件路径创建一个目录,并将不同的结果文件(每个并行编写器任务一个)放入该目录.</span><br><span class="line">如果此选项设置为<span class="string">&quot;true&quot;</span>,则并行度为1的写入程序还将创建一个目录并将单个结果文件放入其中.</span><br><span class="line">如果该选项设置为<span class="string">&quot;false&quot;</span>,写入程序将直接在输出路径中创建文件,而不创建包含目录.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="DeploymentOptions-Executor配置"><a href="#DeploymentOptions-Executor配置" class="headerlink" title="DeploymentOptions(Executor配置)"></a>DeploymentOptions(Executor配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">execution.target</span><br><span class="line">默认值:无</span><br><span class="line">执行的部署目标.这可以采用以下值之一(remote,<span class="built_in">local</span>,yarn-per-job,yarn-session,kubernetes-session)</span><br><span class="line"></span><br><span class="line">execution.attached</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">指定Pipeline是以attached模式还是detached模式提交.</span><br><span class="line"></span><br><span class="line">execution.shutdown-on-attached-exit</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">如果作业是在attached模式下提交的,在CLI突然终止时执行群集关闭,例如响应用户中断,例如键入Ctrl+C.</span><br><span class="line"></span><br><span class="line">execution.job-listeners</span><br><span class="line">默认值:无</span><br><span class="line">要在执行环境中注册的自定义JobListener.注册的侦听器不能有带参数的构造函数.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ExecutionOptions-特定程序的单个Executor配置"><a href="#ExecutionOptions-特定程序的单个Executor配置" class="headerlink" title="ExecutionOptions(特定程序的单个Executor配置)"></a>ExecutionOptions(特定程序的单个Executor配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">execution.runtime-mode</span><br><span class="line">默认值:RuntimeExecutionMode.STREAMING</span><br><span class="line">DataStream运行时执行模式.除此之外,它还控制任务调度,网络Shuffle行为和时间语义(STREAMING,BATCH,AUTOMATIC).</span><br><span class="line"></span><br><span class="line">execution.checkpointing.snapshot-compression</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">是否应该对状态快照数据使用压缩.</span><br><span class="line"></span><br><span class="line">execution.buffer-timeout</span><br><span class="line">默认值:Duration.ofMillis(100)</span><br><span class="line">刷新缓冲区的最大时间(毫秒).默认情况下,帮助开发人员平滑输出缓冲区.</span><br><span class="line">设置参数会导致三种逻辑模式:</span><br><span class="line">    正值按该间隔周期性地触发刷新</span><br><span class="line">    0 在每个记录之后触发刷新,从而最小化延迟</span><br><span class="line">    -1 仅在输出缓冲区已满时触发刷新,从而最大限度地提高吞吐量.</span><br><span class="line"></span><br><span class="line">execution.sorted-inputs.enabled</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">启用或禁用键控运算符的排序输入的标志.只在Batch模式下生效.</span><br><span class="line"></span><br><span class="line">execution.batch-state-backend.enabled</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">为键控运算符启用或禁用批处理运行时特定状态后端和计时器服务的标志.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ExternalResourceOptions-外部资源配置"><a href="#ExternalResourceOptions-外部资源配置" class="headerlink" title="ExternalResourceOptions(外部资源配置)"></a>ExternalResourceOptions(外部资源配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">external-resources</span><br><span class="line">默认值:无</span><br><span class="line">所有外部资源的&lt;resource_name&gt;列表,分号分割,例如:gpu;fpga.</span><br><span class="line"></span><br><span class="line">external-resource.gpu.driver-factory.class</span><br><span class="line">默认值:无</span><br><span class="line">定义由&lt;resource_name&gt;标识的外部资源的工厂类名.</span><br><span class="line">工厂将用于在TaskExecutor端实例化ExternalResourceDriver.</span><br><span class="line">例如:org.apache.flink.externalresource.gpu.GPUDriverFactory.</span><br><span class="line"></span><br><span class="line">external-resource.gpu.amount</span><br><span class="line">默认值:无</span><br><span class="line">为每个TaskExecutor指定的外部资源量,例如:2.</span><br><span class="line"></span><br><span class="line">external-resource.gpu.param.type</span><br><span class="line">默认值:无</span><br><span class="line">由&lt;resource_name&gt;指定的外部资源的自定义配置选项的命名模式.只有遵循此模式的配置才会传递到该外部资源的驱动程序工厂.</span><br><span class="line">例如:nvidia.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="HeartbeatManagerOptions-心跳管理配置"><a href="#HeartbeatManagerOptions-心跳管理配置" class="headerlink" title="HeartbeatManagerOptions(心跳管理配置)"></a>HeartbeatManagerOptions(心跳管理配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">heartbeat.interval</span><br><span class="line">默认值:10000L</span><br><span class="line">从发送方请求心跳信号的时间间隔.</span><br><span class="line"></span><br><span class="line">heartbeat.timeout</span><br><span class="line">默认值:50000L</span><br><span class="line">发送方和接收方请求和接收心跳超时.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="HighAvailabilityOptions-高可用配置"><a href="#HighAvailabilityOptions-高可用配置" class="headerlink" title="HighAvailabilityOptions(高可用配置)"></a>HighAvailabilityOptions(高可用配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">high-availability</span><br><span class="line">默认值:NONE</span><br><span class="line">定义用于集群执行的高可用性模式.要启用高可用性,请将此模式设置为<span class="string">&quot;ZOOKEEPER&quot;</span>或指定工厂类的FQN.</span><br><span class="line"></span><br><span class="line">high-availability.cluster-id</span><br><span class="line">默认值:/default</span><br><span class="line">Flink群集的ID,用于将多个Flink群集彼此分离.</span><br><span class="line">需要为standalone cluster设置，但会在YARN和Mesos中自动推断.</span><br><span class="line"></span><br><span class="line">high-availability.storageDir</span><br><span class="line">默认值:无</span><br><span class="line">文件系统路径(URI),Flink将元数据保存在高可用性设置中.</span><br><span class="line"></span><br><span class="line">high-availability.jobmanager.port</span><br><span class="line">默认值:0</span><br><span class="line">Flink主机在高可用设置中用于其RPC连接的端口(范围).在高可用性设置中,使用此值而不是JM的端口.</span><br><span class="line">值<span class="string">&quot;0&quot;</span>表示选择了随机自由端口.TaskManagers通过高可用性服务(leader election)发现此端口,因此随机端口或端口范围可以工作,而不需要任何额外的服务发现方法.</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.quorum</span><br><span class="line">默认值:无</span><br><span class="line">使用ZooKeeper以高可用性模式运行Flink时要使用的ZooKeeper队列.</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.root</span><br><span class="line">默认值:/flink</span><br><span class="line">Flink在ZooKeeper中存储实体的根路径.</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.latch</span><br><span class="line">默认值:/leaderlatch</span><br><span class="line">定义用于选举leader的leader latch的znode.</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.jobgraphs</span><br><span class="line">默认值:/jobgraphs</span><br><span class="line">作业图的ZooKeeper根路径(ZNode).</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.leader</span><br><span class="line">默认值:/leader</span><br><span class="line">定义Leader的znode,其中包含指向Leader的URL和当前Leader会话ID.</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.checkpoints</span><br><span class="line">默认值:/checkpoints</span><br><span class="line">已完成检查点的ZooKeeper根路径(ZNode).</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.checkpoint-counter</span><br><span class="line">默认值:/checkpoint-counter</span><br><span class="line">检查点计数器的ZooKeeper根路径(ZNode).</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.mesos-workers</span><br><span class="line">默认值:/mesos-workers</span><br><span class="line">用于持久化Mesos工作进程信息的ZooKeeper根路径.</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.client.session-timeout</span><br><span class="line">默认值:60000</span><br><span class="line">定义ZooKeeper会话的会话超时(毫秒).</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.client.connection-timeout</span><br><span class="line">默认值:15000</span><br><span class="line">定义ZooKeeper的连接超时(毫秒).</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.client.retry-wait</span><br><span class="line">默认值:5000</span><br><span class="line">定义连续重试之间的暂停(毫秒).</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.client.max-retry-attempts</span><br><span class="line">默认值:3</span><br><span class="line">定义客户端放弃之前的连接重试次数.</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.path.running-registry</span><br><span class="line">默认值:/running_job_registry/</span><br><span class="line"></span><br><span class="line">high-availability.zookeeper.client.acl</span><br><span class="line">默认值:open</span><br><span class="line">定义要在ZK节点上配置的ACL(open|creator).</span><br><span class="line">如果ZooKeeper服务器配置的<span class="string">&quot;authProvider&quot;</span>属性映射为使用SASLAuthenticationProvider,并且集群配置为在安全模式(Kerberos)下运行,则可以将配置值设置为<span class="string">&quot;creator&quot;</span>.</span><br><span class="line"></span><br><span class="line">high-availability.job.delay</span><br><span class="line">默认值:无</span><br><span class="line">故障转移后作业管理器恢复当前作业之前的时间.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="HistoryServerOptions-HistoryServer配置"><a href="#HistoryServerOptions-HistoryServer配置" class="headerlink" title="HistoryServerOptions(HistoryServer配置)"></a>HistoryServerOptions(HistoryServer配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">historyserver.archive.fs.refresh-interval</span><br><span class="line">默认值:10000L</span><br><span class="line">刷新存档作业目录的间隔(毫秒).</span><br><span class="line"></span><br><span class="line">historyserver.archive.fs.dir</span><br><span class="line">默认值:无</span><br><span class="line">要从中提取存档作业的目录的逗号分隔列表.</span><br><span class="line">historyserver将监视这些目录中的存档作业.</span><br><span class="line">您可以通过配置JobManager将作业存档到目录<span class="string">&quot;historyserver.archive.fs.dir&quot;</span>.</span><br><span class="line"></span><br><span class="line">historyserver.archive.clean-expired-jobs</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">HistoryServer是否应清理不再存在的作业.</span><br><span class="line"></span><br><span class="line">historyserver.web.tmpdir</span><br><span class="line">默认值:无</span><br><span class="line">此配置参数允许定义historyserver web界面要使用的Flink web目录.web界面将其静态文件复制到目录中.</span><br><span class="line"></span><br><span class="line">historyserver.web.address</span><br><span class="line">默认值:无</span><br><span class="line">HistoryServer的web界面的地址.</span><br><span class="line"></span><br><span class="line">historyserver.web.port</span><br><span class="line">默认值:8082</span><br><span class="line">HistoryServer的web界面的端口.</span><br><span class="line"></span><br><span class="line">historyserver.web.refresh-interval</span><br><span class="line">默认值:10000L</span><br><span class="line">HistoryServer的web界面的刷新间隔.</span><br><span class="line"></span><br><span class="line">historyserver.web.ssl.enabled</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">启用对HistoryServer web前端的HTTPs访问.仅当全局SSL标志security.ssl.enabled已启用设置为<span class="literal">true</span>.</span><br><span class="line"></span><br><span class="line">historyserver.archive.retained-jobs</span><br><span class="line">默认值:-1</span><br><span class="line">由定义的每个存档目录中要保留的最大作业数.</span><br><span class="line">如果设置为<span class="string">&quot;-1&quot;</span>(默认),则对存档的数量没有限制.</span><br><span class="line">如果设置<span class="string">&quot;0&quot;</span>或小于<span class="string">&quot;-1&quot;</span>,HistoryServer将报错.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="JMXServerOptions-JMX配置"><a href="#JMXServerOptions-JMX配置" class="headerlink" title="JMXServerOptions(JMX配置)"></a>JMXServerOptions(JMX配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">jmx.server.port</span><br><span class="line">默认值:无</span><br><span class="line">JMX服务器启动注册表的端口范围.</span><br><span class="line">端口配置可以是单个端口:<span class="string">&quot;9123&quot;</span>,端口范围:<span class="string">&quot;50100-50200&quot;</span>,或范围和端口列表:<span class="string">&quot;50100-50200,50300-50400,51234&quot;</span>.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="JobManagerOptions-JM配置"><a href="#JobManagerOptions-JM配置" class="headerlink" title="JobManagerOptions(JM配置)"></a>JobManagerOptions(JM配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">jobmanager.rpc.address</span><br><span class="line">默认值:无</span><br><span class="line">配置参数,用于定义要连接以与作业管理器通信的网络地址.</span><br><span class="line">此值仅在存在具有静态名称或地址的单个JobManager的设置(简单的独立设置或具有动态服务名称解析的容器设置)中解释.</span><br><span class="line">在许多高可用性设置中,当使用领导选举服务(如ZooKeeper)从潜在的多个备用JobManagers中选择和发现JobManager领导时,不使用它.</span><br><span class="line"></span><br><span class="line">jobmanager.bind-host</span><br><span class="line">默认值:无</span><br><span class="line">JM绑定到的网络接口的本地地址.如果未配置,将使用<span class="string">&quot;0.0.0.0&quot;</span>.</span><br><span class="line"></span><br><span class="line">jobmanager.rpc.port</span><br><span class="line">默认值:6123</span><br><span class="line">配置参数,用于定义要连接以与JM通信的网络端口.</span><br><span class="line"></span><br><span class="line">jobmanager.rpc.bind-port</span><br><span class="line">默认值:无</span><br><span class="line">JM绑定到的本地RPC端口.如果未配置,则外部端口(jobmanager.rpc.port)将被使用.</span><br><span class="line"></span><br><span class="line">jobmanager.heap.size</span><br><span class="line">默认值:无</span><br><span class="line">JM的JVM堆大小.</span><br><span class="line"></span><br><span class="line">jobmanager.heap.mb</span><br><span class="line">默认值:无</span><br><span class="line">JM的JVM堆大小(MB).</span><br><span class="line"></span><br><span class="line">jobmanager.memory.process.size</span><br><span class="line">默认值:无</span><br><span class="line">JM的总进程内存大小.这包括JM JVM进程消耗的所有内存,包括总Flink内存,JVM元空间和JVM开销.</span><br><span class="line">在容器化设置中,这应该设置为容器内存.</span><br><span class="line">另见<span class="string">&#x27;jobmanager.memory.flink.size&#x27;</span>表示总Flink内存大小配置.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.flink.size</span><br><span class="line">默认值:无</span><br><span class="line">作业管理器的总Flink内存大小.</span><br><span class="line">这包括JM消耗的所有内存,除了JVM元空间和JVM开销.它由JVM堆内存和堆外内存组成.</span><br><span class="line">有关总进程内存大小配置,请参见<span class="string">&#x27;jobmanager.memory.process.size&#x27;</span>.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.heap.size</span><br><span class="line">默认值:无</span><br><span class="line">JM的JVM堆内存大小.建议的最小JVM堆大小为128M.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.off-heap.size</span><br><span class="line">默认值:MemorySize.ofMebiBytes(128)</span><br><span class="line">JM的ff-heap内存大小.此选项涵盖所有堆外内存使用,包括直接和本机内存分配.</span><br><span class="line">如果由启用了限制,则JobManager进程的JVM直接内存限制(-XX:MaxDirectMemorySize)将设置为此值<span class="string">&#x27;jobmanager.memory.enable-jvm-direct-memory-limit&#x27;</span>.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.enable-jvm-direct-memory-limit</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">是否启用JobManager进程的JVM直接内存限制(-XX:MaxDirectMemorySize).</span><br><span class="line">限制将设置为<span class="string">&quot;jobmanager.memory.off-heap.size&quot;</span>选项的值.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.jvm-metaspace.size</span><br><span class="line">默认值:MemorySize.ofMebiBytes(256)</span><br><span class="line">JobManager的JVM元空间大小.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.jvm-overhead.min</span><br><span class="line">默认值:MemorySize.ofMebiBytes(192)</span><br><span class="line">JobManager的最小JVM开销大小.</span><br><span class="line">这是为JVM开销(如线程堆栈空间、编译缓存等)保留的堆外内存.这包括本机内存,但不包括直接内存,并且在Flink计算JVM最大直接内存大小参数时不会计算在内.</span><br><span class="line">JVM开销的大小是用来构成总进程内存的配置部分的.如果派生大小小于或大于配置的最小或最大大小,则将使用最小或最大大小.</span><br><span class="line">通过将最小和最大大小设置为相同的值,可以显式指定JVM开销的确切大小.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.jvm-overhead.max</span><br><span class="line">默认值:1g</span><br><span class="line">JobManager的最大JVM开销大小.</span><br><span class="line"></span><br><span class="line">jobmanager.memory.jvm-overhead.fraction</span><br><span class="line">默认值:0.1f</span><br><span class="line">为JVM开销保留的总进程内存的一小部分.</span><br><span class="line"></span><br><span class="line">jobmanager.execution.attempts-history-size</span><br><span class="line">默认值:16</span><br><span class="line">历史记录中保留的先前执行尝试的最大数目.</span><br><span class="line"></span><br><span class="line">jobmanager.execution.failover-strategy</span><br><span class="line">默认值:region</span><br><span class="line">此选项指定作业计算如何从任务失败中恢复.</span><br><span class="line"><span class="string">&#x27;full&#x27;</span>:重新启动所有任务以恢复作业.</span><br><span class="line"><span class="string">&#x27;region&#x27;</span>:重新启动可能受任务影响的所有任务失败.</span><br><span class="line"></span><br><span class="line">jobmanager.archive.fs.dir</span><br><span class="line">默认值:无</span><br><span class="line">JM用于存储已完成作业的存档目录.</span><br><span class="line"></span><br><span class="line">jobstore.cache-size</span><br><span class="line">默认值:50L * 1024L * 1024L</span><br><span class="line">作业存储缓存大小(字节),用于将已完成的作业保留在内存中.</span><br><span class="line"></span><br><span class="line">jobstore.expiration-time</span><br><span class="line">默认值:60L * 60L</span><br><span class="line">完成的作业过期并从作业存储中清除的时间(以秒为单位).</span><br><span class="line"></span><br><span class="line">jobstore.max-capacity</span><br><span class="line">默认值:Integer.MAX_VALUE</span><br><span class="line">作业存储中可以保留的最大已完成作业数.</span><br><span class="line"></span><br><span class="line">jobmanager.retrieve-taskmanager-hostname</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">指示JobManager是否在注册期间检索TaskManager的规范主机名的标志.</span><br><span class="line">如果该选项设置为<span class="string">&quot;false&quot;</span>,则TaskManager向JobManager注册可能会更快,因为不会执行反向DNS查找.</span><br><span class="line">但是,本地input split分配(例如HDFS文件)可能会受到影响.</span><br><span class="line"></span><br><span class="line">slot.request.timeout</span><br><span class="line">默认值:5L * 60L * 1000L</span><br><span class="line">从Slot池请求Slot的超时(以毫秒为单位).</span><br><span class="line"></span><br><span class="line">slot.idle.timeout</span><br><span class="line">默认值:50000L 复用heartbeat.timeout取值</span><br><span class="line">Slot池中空闲Slot的超时(毫秒).</span><br><span class="line"></span><br><span class="line">jobmanager.scheduler</span><br><span class="line">默认值:ng</span><br><span class="line">确定用于计划任务的计划程序实现.可接受的值为:ng 新一代调度程序.</span><br><span class="line"></span><br><span class="line">jobmanager.partition.release-during-job-execution</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">控制在作业执行期间是否应该释放分区.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="MetricOptions-指标配置"><a href="#MetricOptions-指标配置" class="headerlink" title="MetricOptions(指标配置)"></a>MetricOptions(指标配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">metrics.reporters</span><br><span class="line">默认值:无</span><br><span class="line">Reporter的可选列表.</span><br><span class="line">如果已配置,则只会启动名称与列表中任何名称匹配的报告器.</span><br><span class="line">否则,将启动配置中可以找到的所有报告程序.</span><br><span class="line">例如:</span><br><span class="line">metrics.reporters = foo,bar</span><br><span class="line">metrics.reporter.foo.class = org.apache.flink.metrics.reporter.JMXReporter</span><br><span class="line">metrics.reporter.foo.interval = 10</span><br><span class="line">metrics.reporter.bar.class = org.apache.flink.metrics.graphite.GraphiteReporter</span><br><span class="line">metrics.reporter.bar.port = 1337</span><br><span class="line"></span><br><span class="line">metrics.reporter.&lt;name&gt;.class</span><br><span class="line">默认值:无</span><br><span class="line">用于名为&lt;name&gt;的Reporter类.</span><br><span class="line"></span><br><span class="line">metrics.reporter.&lt;name&gt;.interval</span><br><span class="line">默认值:Duration.ofSeconds(10)</span><br><span class="line">Reporter的发送报告间隔.</span><br><span class="line"></span><br><span class="line">metrics.reporter.&lt;name&gt;.&lt;parameter&gt;</span><br><span class="line">默认值:无</span><br><span class="line">Reporter的配置参数.</span><br><span class="line"></span><br><span class="line">metrics.scope.delimiter</span><br><span class="line">默认值:.</span><br><span class="line">用于组合度量标识符的分隔符.</span><br><span class="line"></span><br><span class="line">metrics.scope.jm</span><br><span class="line">默认值:&lt;host&gt;.jobmanager</span><br><span class="line">定义应用于JobManager范围内的所有度量的范围格式字符串.</span><br><span class="line"></span><br><span class="line">metrics.scope.tm</span><br><span class="line">默认值:&lt;host&gt;.taskmanager.&lt;tm_id&gt;</span><br><span class="line">定义应用于TaskManager范围内的所有度量的范围格式字符串.</span><br><span class="line"></span><br><span class="line">metrics.scope.jm.job</span><br><span class="line">默认值:&lt;host&gt;.jobmanager.&lt;job_name&gt;</span><br><span class="line">定义作用域格式字符串,该字符串应用于JobManager上作用域为作业的所有度量.</span><br><span class="line"></span><br><span class="line">metrics.scope.tm.job</span><br><span class="line">默认值:&lt;host&gt;.taskmanager.&lt;tm_id&gt;.&lt;job_name&gt;</span><br><span class="line">定义作用域格式字符串,该字符串应用于TaskManager上作用域为作业的所有度量.</span><br><span class="line"></span><br><span class="line">metrics.scope.task</span><br><span class="line">默认值:&lt;host&gt;.taskmanager.&lt;tm_id&gt;.&lt;job_name&gt;.&lt;task_name&gt;.&lt;subtask_index&gt;</span><br><span class="line">定义作用域格式字符串,该字符串应用于作用域为Task的所有度量.</span><br><span class="line"></span><br><span class="line">metrics.scope.operator</span><br><span class="line">默认值:&lt;host&gt;.taskmanager.&lt;tm_id&gt;.&lt;job_name&gt;.&lt;operator_name&gt;.&lt;subtask_index&gt;</span><br><span class="line">定义作用域格式字符串,该字符串应用于作用域为Operator的所有度量.</span><br><span class="line"></span><br><span class="line">metrics.latency.interval</span><br><span class="line">默认值:0L</span><br><span class="line">定义从Source发出延迟跟踪标记的间隔.</span><br><span class="line">如果设置为0或负值,则禁用延迟跟踪.启用此功能可以显著影响集群的性能.</span><br><span class="line"></span><br><span class="line">metrics.latency.granularity</span><br><span class="line">默认值:operator</span><br><span class="line">定义延迟度量的粒度.可接受的值为:</span><br><span class="line">single - 跟踪延迟不区分Source和SubTask</span><br><span class="line">operator - 跟踪延迟,同时区分Source,而不是SubTask</span><br><span class="line">subtask - 跟踪延迟,同时区分Source和SubTask.</span><br><span class="line"></span><br><span class="line">metrics.latency.history-size</span><br><span class="line">默认值:128</span><br><span class="line">定义要在每个Operator上保持的测量延迟数.</span><br><span class="line"></span><br><span class="line">metrics.system-resource</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">指示Flink是否应报告系统资源指标(如计算机的CPU,内存或网络使用情况)的标志.</span><br><span class="line"></span><br><span class="line">metrics.system-resource-probing-interval</span><br><span class="line">默认值:5000L</span><br><span class="line">探测指定的系统资源度量之间的间隔(毫秒).</span><br><span class="line"></span><br><span class="line">metrics.internal.query-service.port</span><br><span class="line">默认值:0</span><br><span class="line">用于Flink的内部度量查询服务的端口范围.</span><br><span class="line">接受端口列表(<span class="string">&quot;50100,50101&quot;</span>),范围(<span class="string">&quot;50100-50200&quot;</span>)或两者的组合.</span><br><span class="line">建议设置端口范围,以避免多个Flink组件在同一台机器上运行时发生冲突.</span><br><span class="line">默认情况下,Flink将随机选择一个端口.</span><br><span class="line"></span><br><span class="line">metrics.internal.query-service.thread-priority</span><br><span class="line">默认值:1</span><br><span class="line">用于Flink的内部度量查询服务的线程优先级.</span><br><span class="line">线程是由Akka的线程池执行器创建的.</span><br><span class="line">优先级的范围是从1(最小优先级)到10(最大优先级).</span><br><span class="line">警告,增加此值可能会降低主要Flink组件.</span><br><span class="line"></span><br><span class="line">metrics.fetcher.update-interval</span><br><span class="line">默认值:10000L</span><br><span class="line">WEB UI使用的度量获取程序的更新间隔(毫秒).</span><br><span class="line">减小此值以加快更新度量.如果度量获取程序导致过多负载,请增加此值.将此值设置为0将完全禁用度量获取.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="NettyShuffleEnvironmentOptions-网络堆栈配置"><a href="#NettyShuffleEnvironmentOptions-网络堆栈配置" class="headerlink" title="NettyShuffleEnvironmentOptions(网络堆栈配置)"></a>NettyShuffleEnvironmentOptions(网络堆栈配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">taskmanager.data.port</span><br><span class="line">默认值:0</span><br><span class="line">用于数据交换操作的TM的外部端口.</span><br><span class="line"></span><br><span class="line">taskmanager.data.bind-port</span><br><span class="line">默认值:无</span><br><span class="line">用于数据交换操作的TM的绑定端口.</span><br><span class="line"></span><br><span class="line">taskmanager.data.ssl.enabled</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">为TM数据传输启用SSL支持.仅当内部SSL的全局标志<span class="string">&quot;security.ssl.internal.enabled&quot;</span>启用时设置为<span class="literal">true</span>.</span><br><span class="line"></span><br><span class="line">taskmanager.network.blocking-shuffle.compression.enabled</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">指示是否将压缩shuffle数据以阻止shuffle模式.</span><br><span class="line"></span><br><span class="line">taskmanager.network.compression.codec</span><br><span class="line">默认值:LZ4</span><br><span class="line">压缩Shuffle数据时要使用的编解码器.</span><br><span class="line"></span><br><span class="line">taskmanager.network.detailed-metrics</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">用于启用/禁用有关入站/出站网络队列长度的更详细度量.</span><br><span class="line"></span><br><span class="line">taskmanager.network.numberOfBuffers</span><br><span class="line">默认值:2048</span><br><span class="line">网络堆栈中使用的缓冲区数.</span><br><span class="line"></span><br><span class="line">taskmanager.network.memory.fraction</span><br><span class="line">默认值:0.1f</span><br><span class="line">JVM内存的一小部分用于网络缓冲区.</span><br><span class="line">被taskmanager.memory.network.fraction替代.</span><br><span class="line"></span><br><span class="line">taskmanager.network.memory.min</span><br><span class="line">默认值:64mb</span><br><span class="line">网络缓冲最小内存.</span><br><span class="line">被taskmanager.memory.network.min替代.</span><br><span class="line"></span><br><span class="line">taskmanager.network.memory.max</span><br><span class="line">默认值:1gb</span><br><span class="line">网络缓冲最大内存.</span><br><span class="line">被taskmanager.memory.network.max替代.</span><br><span class="line"></span><br><span class="line">taskmanager.network.memory.buffers-per-channel</span><br><span class="line">默认值:2</span><br><span class="line">在credit-based的流控制模型中,用于每个传出/传入通道(subpartition/inputchannel)的独占网络缓冲区数.</span><br><span class="line">为获得良好的性能,应至少配置2个.</span><br><span class="line">1个缓冲区用于接收subpartition中的in-fight数据,</span><br><span class="line">1个缓冲区用于并行序列化.</span><br><span class="line"></span><br><span class="line">taskmanager.network.memory.floating-buffers-per-gate</span><br><span class="line">默认值:8</span><br><span class="line">为每个输出/输入gate(resultpartition/inputgate)使用的额外网络缓冲区数.</span><br><span class="line">在credit-based的流控制模式中,这表示所有inputchannel之间共享多少floating credit.</span><br><span class="line">Floating缓冲区基于backlog(subpartition中的实时输出缓冲区)反馈进行分配,有助于缓解subpartition间数据分布不平衡造成的反压.</span><br><span class="line">如果节点之间的往返时间较长或者群集中的机器数量较多,则应增加此值.</span><br><span class="line"></span><br><span class="line">taskmanager.network.sort-shuffle.min-buffers</span><br><span class="line">默认值:64</span><br><span class="line">每个sort-merge blocking结果分区所需的最小网络缓冲区数.</span><br><span class="line">对于大规模批量作业,建议增加此配置值以提高压缩比并减少小的网络数据包.</span><br><span class="line">注意:要增加此配置值,您可能还需要增加总网络内存的大小,以避免<span class="string">&quot;网络缓冲区数量不足&quot;</span>错误.</span><br><span class="line"></span><br><span class="line">taskmanager.network.sort-shuffle.min-parallelism</span><br><span class="line">默认值:Integer.MAX_VALUE</span><br><span class="line">并行度阈值,用于在sort-merge blocking shuffle和默认的基于哈希的blocking shuffle之间切换</span><br><span class="line">这意味着对于较小的并行度,将使用基于哈希的blocking shuffle,对于较大的并行度,将使用sort-merge blocking shuffle.</span><br><span class="line">注意:sort merge blocking shuffle使用unmanaged direct内存进行数据写入和读取,因此如果发生直接内存错误,只需增加直接内存的大小.</span><br><span class="line"></span><br><span class="line">taskmanager.network.memory.max-buffers-per-channel</span><br><span class="line">默认值:10</span><br><span class="line">可用于每个channel的最大缓冲区数.</span><br><span class="line">如果一个channel超过了最大缓冲区的数目,它将使任务变得不可用,导致背压并阻塞数据处理.</span><br><span class="line">这可能会加快检查点对齐,因为在数据倾斜和配置了大量Float缓冲区的情况下,可以防止缓冲的in-flight数据的过度增长.</span><br><span class="line">这个限制没有严格的保证,可以被flatMap操作符,跨越多个缓冲区的记录或产生大量数据的单个计时器忽略.</span><br><span class="line"></span><br><span class="line">taskmanager.network.memory.exclusive-buffers-request-timeout-ms</span><br><span class="line">默认值:30000L</span><br><span class="line">为每个channel请求独占缓冲区的超时.</span><br><span class="line">由于本地缓冲池的最大缓冲区数和所需缓冲区数不同,因此可能存在上游任务已占用所有缓冲区而下游任务正在等待独占缓冲区的死锁情况.</span><br><span class="line">超时使独占缓冲区请求失败,并要求用户增加缓冲区总数,从而打破了这种关系.</span><br><span class="line"></span><br><span class="line">taskmanager.network.blocking-shuffle.type</span><br><span class="line">默认值:file</span><br><span class="line">blocking shuffle类型,可以是<span class="string">&quot;mmap&quot;</span>或<span class="string">&quot;file&quot;</span>.</span><br><span class="line"><span class="string">&quot;auto&quot;</span>表示根据系统内存结构自动选择属性类型(mmap为64位,file为32位).</span><br><span class="line">请注意,mmap的内存使用情况不受配置的内存限制的影响,但是一些资源框架(如yarn)会跟踪内存使用情况,一旦内存超过某个阈值,就会终止容器.</span><br><span class="line">另外请注意,此选项是实验性的,将来可能会更改.</span><br><span class="line"></span><br><span class="line">taskmanager.network.netty.num-arenas</span><br><span class="line">默认值:-1</span><br><span class="line">Netty arenas的数量.</span><br><span class="line"></span><br><span class="line">taskmanager.network.netty.server.numThreads</span><br><span class="line">默认值:-1</span><br><span class="line">Netty服务器的线程数量.</span><br><span class="line"></span><br><span class="line">taskmanager.network.netty.client.numThreads</span><br><span class="line">默认值:-1</span><br><span class="line">Netty客户端的线程数量.</span><br><span class="line"></span><br><span class="line">taskmanager.network.netty.server.backlog</span><br><span class="line">默认值:0</span><br><span class="line">Netty服务器连接积压.</span><br><span class="line"></span><br><span class="line">taskmanager.network.netty.client.connectTimeoutSec</span><br><span class="line">默认值:120</span><br><span class="line">Netty客户端连接超时.</span><br><span class="line"></span><br><span class="line">taskmanager.network.retries</span><br><span class="line">默认值:0</span><br><span class="line">网络通信的重试次数.</span><br><span class="line">目前它只用于建立input/output channel连接.</span><br><span class="line"></span><br><span class="line">taskmanager.network.netty.sendReceiveBufferSize</span><br><span class="line">默认值:0</span><br><span class="line">Netty发送和接收缓冲区大小.</span><br><span class="line">这默认为系统缓冲区大小(cat /proc/sys/net/ipv4/tcp_[rw]mem),在现代Linux中是4mib.</span><br><span class="line"></span><br><span class="line">taskmanager.network.netty.transport</span><br><span class="line">默认值:auto</span><br><span class="line">Netty传输类型,可以是<span class="string">&quot;nio&quot;</span>或<span class="string">&quot;epoll&quot;</span>.</span><br><span class="line"><span class="string">&quot;auto&quot;</span>是指根据平台自动选择属性模式.</span><br><span class="line">请注意,<span class="string">&quot;epoll&quot;</span>模式可以获得更好的性能,更少的GC,并且具有更高级的特性,这些特性仅在现代Linux上可用.</span><br><span class="line"></span><br><span class="line">taskmanager.network.request-backoff.initial</span><br><span class="line">默认值:100</span><br><span class="line">输入通道分区请求的最小回退(毫秒).</span><br><span class="line"></span><br><span class="line">taskmanager.network.request-backoff.max</span><br><span class="line">默认值:10000</span><br><span class="line">输入通道分区请求的最大回退(毫秒).</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="OptimizerOptions-优化器配置"><a href="#OptimizerOptions-优化器配置" class="headerlink" title="OptimizerOptions(优化器配置)"></a>OptimizerOptions(优化器配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">compiler.delimited-informat.max-line-samples</span><br><span class="line">默认值:10</span><br><span class="line">编译器为分隔输入获取的最大行样本数.样本用于估计记录的数量.可以使用输入格式的参数覆盖特定输入的此值.</span><br><span class="line"></span><br><span class="line">compiler.delimited-informat.min-line-samples</span><br><span class="line">默认值:2</span><br><span class="line">编译器为分隔输入获取的最小行样本数.样本用于估计记录的数量.可以使用输入格式的参数覆盖特定输入的此值.</span><br><span class="line"></span><br><span class="line">compiler.delimited-informat.max-sample-len</span><br><span class="line">默认值:2097152</span><br><span class="line">编译器对分隔输入所采用的行样本的最大长度.如果单个样本的长度超过此值(可能是因为解析器配置错误),则采样将中止.</span><br><span class="line">可以使用输入格式的参数覆盖特定输入的此值.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="PipelineOptions-作业执行配置"><a href="#PipelineOptions-作业执行配置" class="headerlink" title="PipelineOptions(作业执行配置)"></a>PipelineOptions(作业执行配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">pipeline.name</span><br><span class="line">默认值:无</span><br><span class="line">用于打印和记录的作业名称.</span><br><span class="line"></span><br><span class="line">pipeline.jars</span><br><span class="line">默认值:无</span><br><span class="line">要打包的jar和要发送到集群的作业jar的分号分隔列表.这些必须是有效的路径.</span><br><span class="line"></span><br><span class="line">pipeline.classpaths</span><br><span class="line">默认值:无</span><br><span class="line">要打包的类路径的分号列表,其中包含要发送到集群的作业jar.这些必须是有效的URL.</span><br><span class="line"></span><br><span class="line">pipeline.auto-generate-uids</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">禁用自动生成的UID时,用户将被迫在DataStream应用程序上手动指定UID.</span><br><span class="line"></span><br><span class="line">pipeline.auto-type-registration</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">控制Flink是否自动向Kryo注册用户程序中的所有类型.</span><br><span class="line"></span><br><span class="line">pipeline.auto-watermark-interval</span><br><span class="line">默认值:Duration.ZERO</span><br><span class="line">自动水印发射的间隔.整个流系统都使用水印来跟踪时间的进程.例如,它们用于基于时间的窗口.</span><br><span class="line"></span><br><span class="line">pipeline.closure-cleaner-level</span><br><span class="line">默认值:ClosureCleanerLevel.RECURSIVE</span><br><span class="line">配置闭包清理器的工作模式.</span><br><span class="line">ClosureCleanerLevel.NONE - 完全禁用闭包清理器</span><br><span class="line">ClosureCleanerLevel.TOP_LEVEL - 只清理顶级类而不递归到字段中</span><br><span class="line">ClosureCleanerLevel.RECURSIVE - 递归地清除所有字段.</span><br><span class="line"></span><br><span class="line">pipeline.force-avro</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">强制Flink对pojo使用apache avro序列化程序.</span><br><span class="line">重要提示:请确保包含flink-avro模块.</span><br><span class="line"></span><br><span class="line">pipeline.force-kryo</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">如果启用,则强制TypeExtractor对POJO使用Kryo序列化程序,即使我们可以作为POJO进行分析.</span><br><span class="line">在某些情况下,这可能更可取.例如,当使用子类不能作为POJO分析的接口时.</span><br><span class="line"></span><br><span class="line">pipeline.generic-types</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">如果禁用泛型类型的使用,Flink将在遇到要通过Kryo进行序列化的数据类型时抛出UnsupportedOperationException.</span><br><span class="line"></span><br><span class="line">pipeline.global-job-parameters</span><br><span class="line">默认值:无</span><br><span class="line">注册自定义的可序列化用户配置对象.可以在Operator中访问配置.</span><br><span class="line"></span><br><span class="line">pipeline.max-parallelism</span><br><span class="line">默认值:-1</span><br><span class="line">用于尚未指定最大并行度的运算符的程序范围内的最大并行度.最大并行度指定动态缩放的上限和用于分区状态的键组数.</span><br><span class="line"></span><br><span class="line">pipeline.object-reuse</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">启用时,Flink内部用于反序列化和将数据传递给用户代码函数的对象将被重用.</span><br><span class="line">请记住,当操作的用户代码函数不知道这种行为时,这可能会导致错误.</span><br><span class="line"></span><br><span class="line">pipeline.default-kryo-serializers</span><br><span class="line">默认值:无</span><br><span class="line">以分号分隔的类名和Kryo序列化程序对的列表要用作Kryo默认序列化程序的类名.</span><br><span class="line"></span><br><span class="line">pipeline.registered-kryo-types</span><br><span class="line">默认值:无</span><br><span class="line">要在序列化堆栈中注册的类型的分号分隔列表.</span><br><span class="line">如果该类型最终被序列化为POJO,则该类型将向POJO序列化程序注册.</span><br><span class="line">如果类型最终被Kryo序列化,那么它将在Kryo注册,以确保只写入标记.</span><br><span class="line"></span><br><span class="line">pipeline.registered-pojo-types</span><br><span class="line">默认值:无</span><br><span class="line">要在序列化堆栈中注册的类型的分号分隔列表.</span><br><span class="line"></span><br><span class="line">pipeline.operator-chaining</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">Operator Chain允许将non-shuffle操作放在同一线程中,从而完全避免序列化和反序列化.</span><br><span class="line"></span><br><span class="line">pipeline.cached-files</span><br><span class="line">默认值:无</span><br><span class="line">要以给定名称在分布式缓存中注册的文件.</span><br><span class="line">这些文件可以通过本地路径从(分布式)运行时中的任何用户定义函数访问.</span><br><span class="line">文件可以是本地文件(将通过BlobServer分发),也可以是分布式文件系统中的文件.</span><br><span class="line">如果需要,运行时会将文件临时复制到本地缓存中.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="QueryableStateOptions-查询状态配置"><a href="#QueryableStateOptions-查询状态配置" class="headerlink" title="QueryableStateOptions(查询状态配置)"></a>QueryableStateOptions(查询状态配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">queryable-state.proxy.ports</span><br><span class="line">默认值:9069</span><br><span class="line">可查询状态代理的端口范围.</span><br><span class="line"></span><br><span class="line">queryable-state.proxy.network-threads</span><br><span class="line">默认值:0</span><br><span class="line">可查询状态代理的网络(Netty的事件循环)线程数.</span><br><span class="line"></span><br><span class="line">queryable-state.proxy.query-threads</span><br><span class="line">默认值:0</span><br><span class="line">可查询状态代理的查询线程数.</span><br><span class="line">如果设置为0,则使用Slot数.</span><br><span class="line"></span><br><span class="line">queryable-state.server.ports</span><br><span class="line">默认值:9067</span><br><span class="line">可查询状态服务器的端口范围.</span><br><span class="line"></span><br><span class="line">queryable-state.server.network-threads</span><br><span class="line">默认值:0</span><br><span class="line">可查询状态服务器的网络(Netty的事件循环)线程数.</span><br><span class="line"></span><br><span class="line">queryable-state.server.query-threads</span><br><span class="line">默认值:0</span><br><span class="line">可查询状态服务器的查询线程数.如果设置为0,则使用Slot数.</span><br><span class="line"></span><br><span class="line">queryable-state.enable</span><br><span class="line">默认值:<span class="literal">false</span></span><br><span class="line">是否启用可查询状态代理和服务器.</span><br><span class="line"></span><br><span class="line">queryable-state.client.network-threads</span><br><span class="line">默认值:0</span><br><span class="line">可查询状态客户端的网络(Netty的事件循环)线程数.</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ResourceManagerOptions-RM配置"><a href="#ResourceManagerOptions-RM配置" class="headerlink" title="ResourceManagerOptions(RM配置)"></a>ResourceManagerOptions(RM配置)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">resourcemanager.job.timeout</span><br><span class="line">默认值:5 minutes</span><br><span class="line">没有指派JM作为leader的作业超时时间.</span><br><span class="line"></span><br><span class="line">local.number-resourcemanager</span><br><span class="line">默认值:1</span><br><span class="line">启动RM的数量.</span><br><span class="line"></span><br><span class="line">resourcemanager.rpc.port</span><br><span class="line">默认值:0</span><br><span class="line">定义与资源管理器通信时要连接的网络端口.</span><br><span class="line">默认情况下,作业管理器的端口,因为使用的是同一ActorSystem.</span><br><span class="line">无法使用此配置键定义端口范围.</span><br><span class="line"></span><br><span class="line">slotmanager.number-of-slots.max</span><br><span class="line">默认值:Integer.MAX_VALUE</span><br><span class="line">定义Flink群集分配的最大Slot数.</span><br><span class="line">此配置选项用于限制批处理工作负载的资源消耗.</span><br><span class="line">不建议为流式工作负载配置此选项,如果没有足够的插槽,流式工作负载可能会失败.</span><br><span class="line">请注意,此配置选项对standalone集群不起作用,其中分配的插槽数量不受Flink控制.</span><br><span class="line"></span><br><span class="line">slotmanager.redundant-taskmanager-num</span><br><span class="line">默认值:0</span><br><span class="line">冗余任务管理器的数量.冗余任务管理器是由Flink启动的额外任务管理器,目的是在由于任务管理器丢失而导致失败时加快作业恢复.</span><br><span class="line">请注意,此功能仅适用于Active部署(Native K8s,Yarn和Mesos).</span><br><span class="line"></span><br><span class="line">slotmanager.request-timeout</span><br><span class="line">默认值:-1L</span><br><span class="line">丢弃Slot请求的超时时间.</span><br><span class="line"></span><br><span class="line">resourcemanager.standalone.start-up-time</span><br><span class="line">默认值:-1L</span><br><span class="line">standalone群集启动期间的时间(毫秒).</span><br><span class="line">在此期间,standalone集群的资源管理器期望注册新的任务执行器,并且不会使任何当前注册的Slot都无法满足的Slot请求失败.</span><br><span class="line">在这段时间之后,它将立即失败挂起的和新来的请求.这些请求不能被注册的Slot满足.</span><br><span class="line">如果不设置,将使用<span class="string">&#x27;slotmanager.request-timeout&#x27;</span>.</span><br><span class="line"></span><br><span class="line">slotmanager.taskmanager-timeout</span><br><span class="line">默认值:30000L</span><br><span class="line">释放空闲任务管理器的超时.</span><br><span class="line"></span><br><span class="line">resourcemanager.taskmanager-timeout</span><br><span class="line">默认值:30000L</span><br><span class="line">释放空闲任务管理器的超时.</span><br><span class="line"></span><br><span class="line">resourcemanager.taskmanager-release.wait.result.consumed</span><br><span class="line">默认值:<span class="literal">true</span></span><br><span class="line">仅当每个生成的结果分区被占用或失败时才释放任务执行器.</span><br><span class="line"><span class="string">&#x27;True&#x27;</span>是默认值,<span class="string">&#x27;False&#x27;</span>表示空闲任务执行器释放未被确认结果分区消耗的接收方阻止,并且可以在<span class="string">&#x27;resourcemanager.taskmanager-timeout&#x27;</span>.</span><br><span class="line">将此选项设置为<span class="string">&#x27;false&#x27;</span>可以加快任务执行器的释放速度,但如果使用结束时间比<span class="string">&#x27;false&#x27;</span>慢,则可能导致意外失败<span class="string">&#x27;resourcemanager.taskmanager-timeout&#x27;</span>。</span><br></pre></td></tr></table></figure>
  </div>
  <footer class="article-footer">
    
  <div class="cc">
    <a href="http://creativecommons.org/licenses/by-sa/4.0/deed.z" target="_blank" title="署名-相同方式共享">
      <img src="/images/cc/cc.png">
      
          <img src="/images/cc/by.png">
        
          <img src="/images/cc/sa.png">
      
      <span>
        本作品采用知识共享 署名-相同方式共享 4.0 国际许可协议进行许可。
      </span>
    </a>
  </div>


    

  </footer>
</article>







          <div class="main-footer">
  
    © 2021 BlackC - Powered by <a href="http://hexo.io" target="_blank">Hexo</a> - Theme <a href="https://github.com/denjones/hexo-theme-chan" target="_blank">Chan</a>
  
</div>

      
        </div>
      
    </div>
  </div>
  
<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>


  
<link rel="stylesheet" href="/PhotoSwipe/photoswipe.css">

  
<link rel="stylesheet" href="/PhotoSwipe/default-skin/default-skin.css">


  <!-- Root element of PhotoSwipe. Must have class pswp. -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
             It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

      <!-- Container that holds slides.
                PhotoSwipe keeps only 3 of them in the DOM to save memory.
                Don't modify these 3 pswp__item elements, data is added later on. -->
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>

      <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
      <div class="pswp__ui pswp__ui--hidden">

        <div class="pswp__top-bar">

          <!--  Controls are self-explanatory. Order can be changed. -->

          <div class="pswp__counter"></div>

          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

          <button class="pswp__button pswp__button--share" title="Share"></button>

          <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

          <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

          <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
          <!-- element will get class pswp__preloader--active when preloader is running -->
          <div class="pswp__preloader">
            <div class="pswp__preloader__icn">
              <div class="pswp__preloader__cut">
                <div class="pswp__preloader__donut"></div>
              </div>
            </div>
          </div>
        </div>

        <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
          <div class="pswp__share-tooltip"></div>
        </div>

        <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>

        <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

        <div class="pswp__caption">
          <div class="pswp__caption__center"></div>
        </div>
      </div>
    </div>
  </div>

  
<script src="/PhotoSwipe/photoswipe.js"></script>

  
<script src="/PhotoSwipe/photoswipe-ui-default.js"></script>




<script src="/perfect-scrollbar/js/min/perfect-scrollbar.min.js"></script>


<script src="/scripts/main.js"></script>


</body>
</html>
