---
title: 系统常用的命令
date: 2017-06-18 08:53:01
categories: 
	- 运维
	- 命令
tags: os
---

> 常用小命令

<!-- more -->

## 查看端口占用并释放
```bash
# windows
netstat -ano|findstr 端口号
taskkill /pid 进程号 -f
# linux
netstat -anop |grep 端口号
kill -9 进程号
```

---

## UNICODE编码文件转换
```
# 需要jdk
# unicode转本地
native2ascii -reverse ApplicationResources_zh.properties ApplicationResources_zh1.properties

# 本地转unicode
native2ascii ApplicationResources_zh1.properties ApplicationResources_zh.properties
```

---

## Linux后台进程管理
```
Ctrl+Z: 可以将一个正在前台执行的命令放到后台，并且处于暂停状态，不可执行

Ctrl+D: 表示结束当前输入（即用户不再给当前程序发出指令），那么Linux通常将结束当前程序

jobs: 查看当前有多少在后台运行的命令

fg: 将后台中的命令调至前台继续运行

bg: 将一个在后台暂停的命令，变成继续执行 （在后台执行）
```

---

## 切换CMD字符编码
```
# 查看现在的编码
chcp
# 切换到utf-8
chcp 65001
# 设置cmd属性
字体=Lucida Console
```

---

## 查看文件大小 
```
df -hT # 查看磁盘分区大小使用情况
du -h --max-depth=1 /root # 查看深度为1的文件大小
```

---

## 清除缓存
```bash
#! /bin/sh
sync
echo 1 > /proc/sys/vm/drop_caches
```

---

## 解压缩
```
# 解压
tar -zxvf
# 压缩
tar -zcvf
```

---

## 隐藏文件到图片
```
# 准备需要隐藏的文件与图片文件
copy /b 图片文件.jpg+隐藏文件 目标图片文件.jpg
```

---

## sed&awk&xargs
```bash
# 将前命令的输出当做本命令的输入
lsof -P|grep ':5000'|awk '{print $2}'|xargs kill -9

# 查找到指定字符串的行,并将其下一行更改为需要的字符串
sed -i '/你找的字符串/ { N; s/\n.*$/\n你要写的字符串/}' 你的文件

# 替换命令
sed 's/目标字符串/替换字符串/' 文件

# 查看某行
awk 'NR==7'

# 新增一列
awk 'BEGIN{a="TIME"}{printf("%s\t",a);for(i=1;i<=NF;i++){printf($i);printf("\t")}printf("%s","\n")}'

# 新增时间列
awk 'BEGIN{a=strftime("%Y-%m-%d %H:%M:%S",systime())}{printf("%s\t",a);for(i=1;i<=NF;i++){printf($i);printf("\t")}printf("%s","\n")}'

# 查看第一列
awk '{print $1}' file

# 查看匹配数据
awk '/匹配字符串/' file

# 联合使用
awk '/匹配字符串/ {print $1}' file
```